{"version":3,"sources":["renderer/DefaultScreen.ts"],"names":[],"mappings":"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","file":"DefaultScreen.js","sourcesContent":["import { rendererUtil } from 'electron-base';\r\n\r\nimport { ElectronSampleApp } from '../app';\r\nimport { DefaultWindow } from '../main/DefaultWindow';\r\n\r\n\r\nexport class DefaultScreen {\r\n\t\r\n\tprivate _$body: JQuery;\r\n\r\n\tconstructor() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic start(): void {\r\n\t\t// jQuery can be referenced in html file, or `import` in this file.\r\n\t\t// jQuery definition for TypeScript must be installed with `npm i --save-dev @types/jquery`\r\n\t\t$(() => this.onDomReady());\r\n\t}\r\n\t\r\n\tpublic showOverlay() {\r\n\t\tif (!this._$body) { return; }\r\n\r\n\t\tthis._$body.addClass('blurred');\r\n\t}\r\n\t\r\n\tpublic hideOverlay() {\r\n\t\tif (!this._$body) { return; }\r\n\r\n\t\tthis._$body.removeClass('blurred');\r\n\t}\r\n\r\n\r\n\tprivate onDomReady(): void {\r\n\t\tlet logger = rendererUtil.logger;\r\n\r\n\t\t// Writes to browser console\r\n\t\tlogger.debug('On DOM ready message, only appears on browser console!');\r\n\t\t\r\n\t\t// Writes to browser console AND to app error file.\r\n\t\tlogger.error('An example of renderer error that is written to file!');\r\n\r\n\t\t$('h1').html('Hello Electron JS!');\r\n\r\n\t\tlet $body = this._$body = $('body:first');\r\n\t\t$body.on('click', () => this.hideOverlay());\r\n\r\n\t\t$('#btnConfirm').on('click', () => {\r\n\t\t\trendererUtil.parentWindow.showConfirmBox('Sure?', 'Bạn có chắc không?', 'Nếu không chắc thì đừng làm!')\r\n\t\t\t\t.then(answer => {\r\n\t\t\t\t\tlogger.debug('Button index:' + answer);\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#btnMessage').on('click', () => {\r\n\t\t\trendererUtil.parentWindow.showMessageBox({\r\n\t\t\t\t\tbuttons: ['One', 'Two', 'Three', 'Four', 'Five'],\r\n\t\t\t\t\tmessage: 'Choose your fate!',\r\n\t\t\t\t\ttitle: 'Warning?',\r\n\t\t\t\t\tdetail: 'What team do you want to join!',\r\n\t\t\t\t\tcheckboxLabel: 'Remember my choice',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t})\r\n\t\t\t\t.then(answer => {\r\n\t\t\t\t\tlogger.debug('Button index:' + answer);\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#btnOpen').on('click', () => {\r\n\t\t\trendererUtil.parentWindow.showOpenDialog({\r\n\t\t\t\ttitle: 'Custom title',\r\n\t\t\t\tbuttonLabel: 'Custom action',\r\n\t\t\t\tproperties: ['openDirectory', 'multiSelections']\r\n\t\t\t})\r\n\t\t\t.then((paths: string[]) => {\r\n\t\t\t\tlogger.debug('Selected paths:' + paths);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.callParentWindow();\r\n\t\tthis.callMainApp();\r\n\t}\r\n\r\n\t/**\r\n\t * Calls a method in parent window class asynchronously.\r\n\t */\r\n\tprivate async callParentWindow(): Promise<void> {\r\n\t\ttry {\r\n\t\t\t// We can use `fs` to read file here (renderer process),\r\n\t\t\t// but in this case, I tell the main process to read file to keep UI responsive.\r\n\t\t\tlet fileContent = await rendererUtil.callRemoteWindow('readFile');\r\n\r\n\t\t\t$('#fileContent').text(fileContent);\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Calls a method in main app class.\r\n\t */\r\n\tprivate callMainApp(): void {\r\n\t\ttry {\r\n\t\t\t// We can use `fs` to read file here (renderer process),\r\n\t\t\t// but in this case, I tell the main process to read file to keep UI responsive.\r\n\t\t\tlet window: DefaultWindow = <any>rendererUtil.callRemoteMainSync('getDefaultWindow');\r\n\t\t\t$('#mainApp').text(`Get an object from another process: ${window.saySomething()}`);\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nwindow['defaultScreen'] = new DefaultScreen();\r\nwindow['defaultScreen'].start();"]}